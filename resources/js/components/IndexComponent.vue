<template>
<div>
    <div class="ftco-blocks-cover-1">
        <div class="site-section-cover overlay homepage-bg " data-stellar-background-ratio="0.5" style="background-image: url('images/eye.jpg')">
            <div class="container">
                <div class="row align-items-center ">
                    <div class="col-12 mb-5 text-center">
                        <h1 class="mb-5 animated bounceInLeft delay-1s">I. Simposio Bilateral México-Alemania</h1>

                        <h2 class="mb-3 text-light">Uso de Plantas Mexicanas para el tratamiento de la DMAE</h2>
                    </div>

                    <div class="col-md-5 mt-5 pt-5">
                        <h1 class="mb-3 title home-page">Degeneración Macular Asociada a la Edad</h1>
                        <p>Es una enfermedad degenerativa que afecta a la retina del ojo humano y es la causa mas frecuente de ceguera no reversible a nivel mundia.</p>
                        <p class="mt-5"><a href="#program" class="btn btn-primary">¡Conocer mas!</a></p>
                    </div>
                    
                    <div class="col-md-6 ml-auto ">
                        <div class="white-dots">
                            <img src="images/Nopal.jpg" alt="" class="img-fluid animated zoomIn delay-1s">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="site-section">
        <div class="container">
            <div class="row justify-content-center text-center">
            <div class="col-md-7 mb-5">
                <!-- <h5 class="subtitle">Features</h5> -->
                <h2 class="section-heading text-center">Instituciones Participantes</h2>
            </div>
            </div>
            <div class="row">
            <div class="col-md-6 col-lg-4 mb-4 mb-lg-0">
                <div class="feature-1">
                <span class="wrap-icon">
                    <span class="icon-home"></span>
                </span>
                <h2>Universidad de Sonora</h2>
                <p>Es una institución de educación superior mexicana autónoma y de servicio público. Tiene como misión formar profesionales integrales y competentes a nivel nacional e internacional, articulando la docencia con la generación, aplicación y transferencia del conocimiento y la tecnología, para contribuir al desarrollo sostenible de la sociedad.</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-4 mb-4 mb-lg-0">
                <div class="feature-1">
                <span class="wrap-icon">
                    <span class="icon-face"></span>
                </span>
                <h2>Universität Kiel</h2>
                <p>La Universidad Christian Albrecht de Kiel es una universidad pública alemana con campus universitario en la ciudad de Kiel, en Schleswig-Holstein.</p>
                <p>El Centro Médico Universitario Schleswig-Holstein, es un hospital universitario, ubicado en Kiel y Lübeck en Alemania y Europa. Su objetivo es garantizar la atención médica en Schleswig-Holstein</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-4 mb-4 mb-lg-0">
                <div class="feature-1">
                <span class="wrap-icon">
                    <span class="icon-drafts"></span>
                </span>
                <h2>DFG</h2>
                <h3>Deutsche Forschungsgemeinschaft</h3>
                <p>Tiene la misión de fomentar la investigación básica en universidades e institutos de investigación alemanes. Con un presupuesto anual de aproximadamente 3200 millones de euros, provenientes tanto del gobierno federal como del gobierno de los estados de Alemania, se financian proyectos en todas las áreas del conocimiento.</p>
                </div>
            </div>
            </div>
            <div class="row mt-5">
            <div class="col-lg-12 text-center">
                <a href="#registro" class="btn btn-primary">¡Registrarse!</a>
            </div>
            </div>
        </div>
    </div>


    <div class="site-section section-3" data-stellar-background-ratio="0.5" style="background-image: url('images/dmae2.png');">
      <div class="container">
        <div class="row justify-content-center text-center">
          <div class="col-7 text-center mb-5">
            <p class="lead text-white">México - Alemania</p>
            <h2 class="text-white">En este evento encontras las siguientes actividades</h2>
          </div>
        </div>
        
      </div>
    </div>

    <div class="site-section counter-wrap">
      <div class="container">
        <div class="row">
          <div class="col-md-6 col-lg-4 mb-5">
            <div class="d-flex align-items-center counter">
                <!-- <span class="icon-bubble_chart wrap-icon mr-3"></span> -->
              <span class="mr-3">
                  <img src="images/politica.png" alt="Image" class="img-fluid mx-auto ">

              </span>
              <div class="text">
                <span class="d-block number">8</span>
                <span class="caption mt-3">Conferencias</span>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4 mb-5">
            <div class="d-flex align-items-center counter">
              <span class="mr-3">
                  <img src="images/trabajo.png" alt="Image" class="img-fluid mx-auto ">
              </span>
              <div class="text">
                <span class="d-block number">4</span>
                <span class="caption">Talleres</span>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4 mb-5">
            <div class="d-flex align-items-center counter">
              <span class="mr-3">
                  <img src="images/adn.png" alt="Image" class="img-fluid mx-auto ">
              </span>
              <div class="text">
                <span class="d-block number">5</span>
                <span class="caption">Visitas</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>



    <div class="site-section bg-light">
      <div class="container">
        <div class="row justify-content-center  mb-5">
          <div id="program" class="col-md-7 text-center">
            <h3 class="section-heading text-center">Programas del Seminario</h3>
            <p class="mb-5 lead">En esta sección encontrarás las actividades que se estarán realizado durante la semana</p>

          </div>

        </div>
        <div class="row">
          <div class="col-12">

            <div class="nonloop-block-13 owl-carousel">
              <div class="news-1" style="background-image: url('images/unisonpanoramica.jpg');">
                <div class="text">
                  <h3>Ceremonia de Bienvenida</h3>
                  <span class="category d-block mb-3">Firmas de Convenios</span>
                  <p class="mb-4">México - Alemania, inicio de nuevos proyectos de investigación.</p>
                  <a href="#descargaPDF" class="d-block arrow-wrap"><span class="icon-arrow_forward"></span></a>
                </div>
              </div>

              <div class="news-1" style="background-image: url('images/plantas-bio.jpg');">
                <div class="text">
                  <h3>Biodiversidad de Plantas y Terapéutica</h3>
                  <span class="category d-block mb-3">Región Endémica de México</span>
                  <p class="mb-4">Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
                  <a href="#descargaPDF" class="d-block arrow-wrap"><span class="icon-arrow_forward"></span></a>
                </div>
              </div>

              <div class="news-1" style="background-image: url('images/oldman.jpg');">
                <div class="text">
                  <h3>Oftalmología Experimental</h3>
                  <span class="category d-block mb-3">Desarollo de nuevas terapias</span>
                  <p class="mb-4">Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
                  <a href="#descargaPDF" class="d-block arrow-wrap"><span class="icon-arrow_forward"></span></a>
                </div>
              </div>

              <div class="news-1" style="background-image: url('images/algas.png');">
                <div class="text">
                  <h3>Foro de Discusión</h3>
                  <span class="category d-block mb-3">Biodiversidad de Extractos Naturales</span>
                  <p class="mb-4">Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
                  <a href="#descargaPDF" class="d-block arrow-wrap"><span class="icon-arrow_forward"></span></a>
                </div>
              </div>

              <div class="news-1" style="background-image: url('images/bucida.jpg');">
                <div class="text">
                  <h3>Conferencia</h3>
                  <span class="category d-block mb-3">Modulación antioxidante y angiogénica</span> 
                  <a href="#descargaPDF" class="d-block arrow-wrap"><span class="icon-arrow_forward"></span></a> 
                </div>
              </div>

              <div class="news-1" style="background-image: url('images/visiondmae.jpg');">
                <div class="text">
                  <h3>Degeneración Macular</h3>
                  <span class="category d-block mb-3">Tratamientos</span>
                  <p class="mb-4">Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
                  <a href="#descargaPDF" class="d-block arrow-wrap"><span class="icon-arrow_forward"></span></a>
                </div>
              </div>

            </div>
            
          </div>
        </div>
      </div>
    </div>


    

    <!-- <div class="site-section section-3" data-stellar-background-ratio="0.5" style="background-image: url('images/beneficio.webp');"> -->
    <div class="site-section section-3" data-stellar-background-ratio="0.5" style="background-image: url('images/eye-bg.jpg');">
        <div class="container">
            <div class="row justify-content-center text-center">
            <div class="col-7 text-center mb-5">
                <h2 class="text-white section-heading primary-color-icon text-center">Beneficios</h2>
                <!-- <p class="lead text-white">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laboriosam quo doloribus, suscipit libero, voluptate aliquam.</p> -->
            </div>
            </div>
            <div class="row">
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="service-1">
                <span class="service-1-icon">
                    <span class="icon-book"></span>
                </span>
                <div class="service-1-contents">
                    <h3>Educación</h3>
                    <!-- <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Obcaecati, laboriosam.</p> -->
                </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="service-1">
                <span class="service-1-icon">
                    <span class="icon-search"></span>
                </span>
                <div class="service-1-contents">
                    <h3>Investigación</h3>
                    <!-- <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Obcaecati, laboriosam.</p> -->
                </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="service-1">
                <span class="service-1-icon">
                    <span class="icon-hospital-o"></span>
                </span>
                <div class="service-1-contents">
                    <h3>Salud</h3>
                    <!-- <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Obcaecati, laboriosam.</p> -->
                </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 mb-4">
                <div class="service-1">
                <span class="service-1-icon">
                    <span class="icon-people"></span>
                </span>
                <div class="service-1-contents">
                    <h3>Social</h3>
                    <!-- <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Obcaecati, laboriosam.</p> -->
                </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="service-1">
                <span class="service-1-icon">
                    <span class="icon-phonelink"></span>
                </span>
                <div class="service-1-contents">
                    <h3>Tecnología</h3>
                    <!-- <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Obcaecati, laboriosam.</p> -->
                </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="service-1">
                <span class="service-1-icon">
                    <img src="images/crecimiento.png" alt="Image" class="img-fluid mx-auto icon-crecimiento">

                    <!-- <span class="icon-format_indent_decrease"></span> -->
                </span>
                <div class="service-1-contents">
                    <h3>Desarollo</h3>
                    <!-- <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Obcaecati, laboriosam.</p> -->
                </div>
                </div>
            </div>

            </div>
        </div>
    </div>


    
    
    <div class="site-section bg-light">
      <div class="container">
        <div class="row justify-content-center text-center mb-5">
          <div class="col-7 text-center mb-5">
            <h2 class="section-heading text-center">Líderes del Proyecto</h2>
            <!-- <p class="lead">Conoc!</p> -->
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4 mb-4 mb-lg-0">
            <div class="testimonial-2 text-center">
              <div class="v-card mb-4 text-center">
                <img src="images/klettner.JPEG" alt="Image" class="img-fluid mx-auto d-block">
                <span>Dr. Alexa Karina Klettner</span>
              </div>
              <blockquote>
                <p>Estudia la regulación del VEGF en su interacción con el epitelio pigmentario de la retina y el desarollo de nuevas terapias para la DMAE.</p>
              </blockquote>
              
            </div>
          </div>
          <div class="col-lg-4 mb-4 mb-lg-0">
              <div class="testimonial-2 text-center">
                <div class="v-card mb-4 text-center">
                  <img src="images/iloki.JPEG" alt="Image" class="img-fluid mx-auto d-block">
                  <span>Dr. Simon Bernard Iloki Assanga</span>
                </div>
                <blockquote>
                  <p>Investiga el aislamiento de fitocompuestos con priopiedades inmunomoduladoras evualuando marcadores inflamatorios y de estrés oxidativo.</p>
                </blockquote>
                
              </div>
            </div>
          <div class="col-lg-4 mb-4 mb-lg-0">
            <div class="testimonial-2 text-center">
              <div class="v-card mb-4 text-center">
                <img src="images/lewis1.JPEG" alt="Image" class="img-fluid mx-auto d-block">
                <span>M.C. Lidianys Lewis Luján</span>
              </div>
              <blockquote>
                <p>Diseño de bioactivos naturales para atenuar efectos de EROs relacionados al estrés oxidativo y procesos inflamatorios.</p>
              </blockquote>
              
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="descargaPDF" class="site-section section-3" data-stellar-background-ratio="0.5" style="background-image: url('images/sahuaro.jpg');">
      <div class="container">
        <div class="row justify-content-center text-center">
          <div class="col-7 text-center mb-5">
            <h2 class="text-white section-heading primary-color-icon text-center">Descarga Nuestro Programa</h2>
            <p class="lead text-white mb-5">¡Anímate a esta gran oportunidad!</p>
            <p class="lead text-white mb-5">Empieza a conocer mas...</p>
            <button  type="button" class="btn btn-primary" @click="onClick()">Descargar Programa</button>
            <!-- <p><a href="" class="btn btn-primary">¡Registrarme!</a></p> -->
          </div>
        </div>
      </div>
    </div>


  <div class="site-section bg-light" id="contact-section">
    <div  id ="registro" class="container">
      <div class="row justify-content-center text-center">
        <div id="register" class="col-7 text-center mb-5">
            <h1 class="section-heading text-center">Información de Registro</h1>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 mb-5" >
          <form action="" method="post" enctype="multipart/form-data" class="form-horizontal">

            <div class="form-group row">
              <div class="col-md-6 mb-4 mb-lg-0">
                <label class="col-md-3 form-control-label" for="text-input">Nombre</label>
                <input  v-bind:class = "(evaluated) ? (errorName) ? 'is-invalid' : 'is-valid' : ''"  type="text" v-model="name"  class="form-control " placeholder=" Ingrese Nombre">
                <div v-show="errorName" class="invalid-feedback">
                  Por favor ingrese un nombre.
                </div>
              </div>
              <div class="col-md-6">
                <label class="col-md-3 form-control-label" for="text-input">Apellidos</label>
                <input v-bind:class = "(evaluated) ? (errorLastName) ? 'is-invalid' : 'is-valid' : ''"  type="text" v-model="last_name" class="form-control" placeholder="Ingrese Apellidos">
                <div v-show="errorLastName" class="invalid-feedback">
                  Por favor ingrese los apellidos.
                </div>
              </div>
            </div>

            <div class="form-group row">
              <div class="col-md-6 form-control-label" for="text-input">
                <label class="col-md-6 form-control-label" for="text-input">Correo Electrónico</label>
                <input v-bind:class = "(evaluated) ? (errorEmail) ? 'is-invalid' : 'is-valid' : ''" type="text"  v-model="email" class="form-control" placeholder="Ingrese Correo Electronico" required>
                <div v-show="errorEmail" class="invalid-feedback">
                  Por favor ingrese su correo.
                </div>
              </div>
              <div class="col-md-6">
                  <label class="col-md-3 form-control-label" for="text-input">Institucion</label>
                  <input v-bind:class = "(evaluated) ? (errorInstituton) ? 'is-invalid' : 'is-valid' : ''" type="text" v-model="institution" class="form-control" placeholder="Ingrese Institución">
                  <div v-show="errorInstituton" class="invalid-feedback">
                    Por favor ingrese la institución.
                  </div>
                </div>
            </div>

            <div class="form-group row">
                <div class="col-md-6">
                  <label class="col-md-3 form-control-label" for="exampleFormControlSelect1">Ocupación</label>
                  <select v-bind:class = "(evaluated) ? (errorOccupation) ? 'is-invalid' : 'is-valid' : ''" v-model="occupation" class="form-control" id="exampleFormControlSelect1">
                    <option disabled value="">Seleccione una Ocupación</option>
                    <option value="profesional">Profesional</option>
                    <option value="estudiante">Estudiante</option>
                    <option value="otros">Otros</option>
                    <div v-show="errorOccupation" class="invalid-feedback">
                      Por favor ingrese la institución.
                    </div>
                  </select>
                </div>
                <div class="col-md-6" v-show="occupation=='estudiante'">
                    <label class="col-md-3 form-control-label" for="text-input">Carrera</label>
                    <input type="text" v-model="career" class="form-control" placeholder="Ingrese Carrera">
                </div>
            </div>
            
            <div class="form-group row">
              <div class="col-md-6 btn-register">
                <button type="button" class="btn btn-primary  btn-block btn-primary text-white py-3 px-5" @click="registrarCategoria()">Registrarme</button>
              </div>
            </div>
            
            <!-- <div v-show="errorUser" class="form-group row div-error">
                <div class="text-center alert alert-danger ">
                    <div v-for="error in errorShowMsjUser" :key="error" v-text="error" class="" role="alert" >

                    </div>
                </div>
            </div> -->
          </form>

        </div>
      </div>
    </div>
  </div>


</div>
</template>

<script>
    export default {
      data(){
          return{
            name: '',
            last_name: '',
            email: '',
            occupation: '',
            career: '',
            institution: '',
            errorUser: 0,
            errorName:0,    
            errorLastName:0,
            errorEmail:0,
            errorInstituton:0,
            errorOccupation:0,
            evaluated:0,
            errorShowMsjUser: [],
          }
        },
      methods: {
          onClick() {
            console.log('LO DESCARGARE.')

              axios({
                    url: '/programaDMAE.pdf',
                    method: 'GET',
                    responseType: 'blob',
                }).then((response) => {
                      console.log('DESCARGADO')

                     var fileURL = window.URL.createObjectURL(new Blob([response.data]));
                     var fileLink = document.createElement('a');
   
                     fileLink.href = fileURL;
                     fileLink.setAttribute('download', 'programaDMAE.pdf');
                     document.body.appendChild(fileLink);
   
                     fileLink.click();
                });
          },
          registrarCategoria(){
            console.log('registrare');
            this.evaluated=0;

            if (this.validationUser()){
                return;
            }
            let me = this;

            axios.post('/users',{
                'name': this.name,
                'last_name': this.last_name,
                'email': this.email,
                'institution': this.institution,
                'occupation': this.occupation,
                'carrer': this.career,

            }).then(function (response) {
              swal(
              'Registrado!',
              'El registro ha sido con éxito.',
              'success'
              )
              me.cleanFields();

            }).catch(function (error) {
                console.log(error);
                if (error.response.status == 422){
                  console.log(error.response.data.errors)
                  swal(
                  'Error!',
                  'Email ya ha sido utilizado',
                  'error'
                  )
                }else{
                  swal(
                  'Error!',
                  'Intentelo de nuevo',
                  'error'
                  )
                  this.cleanFields();

                }
                
            });
          },

          validationUser(){
            this.errorUser=0;
            this.errorName=0;
            this.errorLastName=0;
            this.errorEmail=0;
            this.errorInstituton=0;
            this.errorOccupation=0;
            this.evaluated=1;
            // this.errorShowMsjUser =[];

            if (!this.name) {
              this.errorName = 1;
              this.errorUser=1;

            }

            if (!this.last_name) {
              this.errorLastName = 1;
              this.errorUser=1;
            
            }

            if (!this.email){
              this.errorEmail = 1;
              this.errorUser=1;
            
            } 

            if (!this.institution){
              this.errorInstituton = 1;
              this.errorUser=1;

            } 

            if (this.occupation==''){
              this.errorOccupation = 1;
              this.errorUser=1;

            } 
            // if (this.errorShowMsjUser.length) this.errorUser = 1;

            return this.errorUser;

          },

          cleanFields(){
            this.name = '';
            this.last_name= '';
            this.email= '';
            this.occupation= '';
            this.institution= '';
            this.carrer= '';
            this.evaluated=0;
          }
      },
        mounted() {
            console.log('Component mounted.')
        }
    }
</script>
